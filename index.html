<!DOCTYPE html>

<html>

<head>
  <title>AR - CENTRUM</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="styles.css">

  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  <script src="gesture-detector.js"></script>
  <script src="gesture-handler.js"></script>
  <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v5.0.1/dist/aframe-extras.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
  <link rel="stylesheet" href="styles\styles.css">
  <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
  <script src="https://kit.fontawesome.com/c4b7d7f020.js" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>

</head>


<script>
  AFRAME.registerComponent('markerhandler', {


    init: function () {
      let toggle = false
      const bot_01 = document.querySelector("#bot_01");

      bot_01.addEventListener('click', function () {
        console.log("click event on #animated-marker fired")

        const element = document.querySelector("#cam_01-model");
        element.setAttribute('visible', false);
      })


    }
  })
</script>



<!-- <script>
    function myFunction() {
        var x = document.getElementById("myDIV");
        if (x.style.display === "none") {
          x.style.display = "block";
        } else {
          x.style.display = "none";
        }
      }
    </script>-->




<style>
  .buttons {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 118%;
    height: 5em;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 30;
    text-align: center;
  }

  .buttons-modal {
    position: absolute;
    top: 50px;
    left: 10px;
    width: 20%;
    height: auto;
    max-height: 6rem;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 30;
  }

  .say-hi-button {
    padding: 0.25em;
    border-radius: 4px;
    border: none;
    background: #FF6A00;
    color: black;
    width: 10em;
    height: 2em;
    justify-content: center;
  }

  .a-loader-title {
    color: rgb(66, 90, 246);
  }

  #fullh {
    position: fixed;

    align-items: center;

    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background: #fff;
    z-index: 9999;
    text-align: center;

  }

  .hide {
    display: none;
    position: absolute;
    left: -999999px;
    visibility: hidden;
  }
</style>
<script>
  function comenzar() {
    var h = document.getElementById("fullh");
    h.classList.remove("d-flex");
    h.style.display = "none";
  }

</script>

<script>
  setTimeout(() => {
    const box = document.getElementById('com');

    // üëáÔ∏è removes element from DOM
    box.style.display = 'inline';

    // üëáÔ∏è hides element (still takes up space on page)
    // box.style.visibility = 'hidden';
  }, 8000); // üëàÔ∏è time in milliseconds
</script>

<body>




 <!-- <div class="full-height d-flex justify-content-center" id="fullh">
    <div class="card text-center" style="width: 18rem;">
      <lottie-player src="https://assets5.lottiefiles.com/packages/lf20_ttfwgpt1.json" background="transparent"  speed="1"  style="width: 300px; height: 300px;" loop autoplay></lottie-player>
  <div class="card-body">
  <a href="#" class="btn btn-primary" id="com"onclick="comenzar()" style="display: none;">¬°Comenzar!</a>
  </div>
</div>
</div>-->

  <!--Secci√≥n de modal-->
  <!-- Button trigger modal -->




 
  <!-- Modal 3 -->

  <!--Secci√≥n de modal-->




  <div class="container"
    style="bottom: 0; display: flex; position: absolute; justify-content: center; z-index: 20; align-items: center; left: 0;">
    <div class="col-sm" id="bs0">
      <div class="buttons">
        <button onclick="play()" id="show-hide-entity" class="say-hi-button"><i
            class="fa-solid fa-play"></i></button><br><br>
        <button onclick="pause()" id="show-hide-entity-p" class="hide say-hi-button"><i
            class="fa-solid fa-pause"></i></button><br><br>
      </div>
    </div>
  </div>






  <audio id="audio" src="audio\RA-G.wav"></audio>
  </div>

  <a-scene embedded arjs='sourceType: webcam;' embedded renderer="logarithmicDepthBuffer: true;" vr-mode-ui="enabled: false" gesture-detector
  id="scene">
    <a-assets>
      <a-asset-item id="mono-01" src="models\RA-giulio.glb">
      </a-asset-item>
    </a-assets>

    <a-assets>
      <a-asset-item id="mono-02" src="models\paredes.glb">
      </a-asset-item>
    </a-assets>

    <a-marker preset="hiro" raycaster="objects: .clickable" emitevents="true" cursor="fuse: false; rayOrigin: mouse;"
      id="markerA">

      <a-entity light="type: ambient; color: #CCC; intensity: 1"></a-entity>
      <a-entity light="type: point; intensity: 1.5; distance: 100; decay: 7; castShadow:true;" position="-2 0.5 0"></a-entity>
      <a-entity light="type: point; intensity: 1.5; distance: 100; decay: 7" position="0 0.5 0"></a-entity>
      <a-entity light="type: point; intensity: 1.5; distance: 100; decay: 7" position="2 0.5 0"></a-entity>


      <a-entity id="m-mono-01" gltf-model="#mono-01" position="0 0 0" scale=".05 .05 .05" rotation="0 0 0" class="clickable" gesture-handler
        visible="true" animation-mixer="timeScale: 0; loop: 0;"  shadow="cast:true; receive:true">
      </a-entity>

      <!--<a-entity id="m-mono-02" gltf-model="#mono-02" position="0 0 -2" scale=".01 .01 .01" rotation="-90 0 0" class="clickable" gesture-handler
      visible="true" animation-mixer="timeScale: 0; loop: 0;"  shadow="cast:true; receive:true">
    </a-entity>-->
      



    </a-marker>
    <a-entity camera></a-entity>
  </a-scene>













  <script>
    function play() {
      const element = document.querySelector("#m-mono-01");
      var audio = document.getElementById("audio");
      var g = document.getElementById("show-hide-entity");
      var h = document.getElementById("show-hide-entity-p");


      g.classList.add('hide');
      h.classList.remove('hide');
      element.setAttribute('animation-mixer', {
        timeScale: 1
      });

      if (audio.paused)
        audio.play();
    }
  </script>

  <script>
    function pause() {
      const element = document.querySelector("#m-mono-01");
      var audio = document.getElementById("audio");
      var g = document.getElementById("show-hide-entity");
      var h = document.getElementById("show-hide-entity-p");

      g.classList.remove('hide');
      h.classList.add('hide');
      element.setAttribute('animation-mixer', {
        timeScale: 0
      });

      if (audio.play)
        audio.pause();
    }
  </script>

</body>

</html>
